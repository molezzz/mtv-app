# 手机影视APP 功能需求文档

## 1. 项目概述

本项目旨在开发一款基于 Flutter 框架的移动端影视应用（APP）。用户可以通过该应用浏览、搜索和观看影视内容，并能将视频投屏到支持 Google Cast 的安卓电视（Android TV）和支持 AirPlay 的苹果电视（Apple TV）上。所有影视数据和播放信息均通过远程 API 获取。
项目UI以黑色和黄色为主色。整体设计现代高级，符合影视APP的特点。

## 2. 功能需求

### 2.1. 核心功能

#### 2.1.1. 内容发现
- **首页展示**: 应用启动后，首页应展示推荐的影视内容，如“时下流行”、“最新上映”、“高分推荐”等，通常以轮播图和横向滚动列表的形式呈现。
- **分类浏览**: 提供按类型（如：电影、电视剧、动漫、综艺）、题材（如：科幻、爱情、喜剧）、地区、年份等多种维度的筛选功能。
- **搜索功能**: 用户可以通过输入关键字（如：影片名称、演员）快速查找相关影视内容。搜索结果应清晰地展示影片海报、名称和简介。

#### 2.1.2. 影视详情
- **详情页面**: 点击任意影视内容，应进入其详情页。
- **信息展示**: 详情页需展示影片的详细信息，包括：
    - 海报/剧照
    - 影片名称
    - 简介
    - 评分（如：豆瓣、IMDb）
    - 演职员表
    - 发行年份、地区
- **剧集列表**: 对于电视剧或动漫，需要展示季数和集数列表，并标记用户的观看进度。

#### 2.1.3. 视频播放
- **内置播放器**: 应用需集成一个功能完善的视频播放器。
- **播放控制**: 播放器应支持常规操作，如播放、暂停、快进/快退、全屏切换、音量调节、亮度调节。
- **播放记录**: 自动记录用户的观看历史和播放进度，方便用户续播。

#### 2.1.4. 投屏功能 (Casting)
- **设备发现**: 应用需要能够自动发现局域网内支持 Google Cast (Android TV) 和 AirPlay (Apple TV) 的设备。
- **投屏连接**: 用户可以选择一个可用设备，并发起投屏连接请求。
- **状态同步**: 在投屏播放期间，手机端应显示播放状态（正在投屏至...），并可以作为遥控器控制电视上的播放进度、音量等。
- **断开连接**: 用户可以随时中断投屏，将播放切换回手机。

### 2.2. 技术与非功能性需求

#### 2.2.1. API 对接
- **数据来源**: 所有影视列表、详情、搜索结果和视频播放地址均通过调用远程 API 动态获取。
- **API 格式**: 需与后端定义清晰的 RESTful API 或 GraphQL 接口规范。
- **数据安全**: 所有 API 请求应使用 HTTPS 协议进行传输。

#### 2.2.2. 技术栈
- **前端框架**: Flutter
- **投屏技术**:
    - **Android TV**: 集成 Google Cast SDK。
    - **Apple TV**: 集成 AirPlay 功能。
    - *可以调研 `flutter_cast_video` 等现有 Flutter 插件来简化集成工作。*

#### 2.2.3. 用户体验 (UX)
- **界面设计**: 界面应简洁、美观、现代化，符合主流影音应用的设计风格。
- **性能**: 应用启动速度快，页面滚动、切换流畅，视频加载迅速。
- **跨平台一致性**: 基于 Flutter 开发，确保在 iOS 和 Android 两大平台上提供基本一致的用户体验。

### 2.1.5. 用户系统
- **用户认证**: 提供用户注册和登录功能。
- **认证方式**: 用户通过输入用户名和密码，调用远程 API 进行身份验证。
- **会话管理**: 登录成功后，应用需接收并安全地存储从服务器返回的会话凭证（如 Cookie 或 Token），用于后续的 API 请求认证。
- **个人中心**: 提供一个“我的”或“个人中心”页面，展示用户信息，并提供“退出登录”选项。

## 3.设置功能
- **服务器地址设置**：可以设置全局API服务器的地址。设置后保存到设备本地存储。

## 4. 未来可扩展功能

- **收藏/追剧**: 用户可以收藏喜欢的影片或“追”某部剧，方便快速访问。
- **离线缓存**: 允许用户将影片缓存到本地，以便在没有网络的情况下观看。
